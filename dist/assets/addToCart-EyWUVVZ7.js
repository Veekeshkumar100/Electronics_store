import{g as d,s as S,u as C,p as P}from"./showToast-CyfWfdYw.js";const g=(r,e)=>{let c=d().find(u=>u.id==r),n=1;return c&&(n=c.quantity,e=c.price),{quantity:n,price:e}},y=()=>{let r=d(),e=document.querySelector(".productSubTotal"),o=document.querySelector(".productFinalTotal"),n=r.reduce((u,l)=>(parseInt(l.price)||0)+u,0);e.innerText=`₹${n}`,o.innerText=`₹${n+50}`},q=(r,e,o,c)=>{const n=document.querySelector(`#cart${e}`),u=n.querySelector(".productQuantity"),l=n.querySelector(".productPrice");let a=1,t=0,i=d(),m=i.find(s=>s.id===e);m?(a=m.quantity,t=m.price):(t=c,c=c,console.log(c)),r.target.className==="cartIncrement"&&(a<o?a+=1:a===o&&(t=t*o)),r.target.className==="cartDecrement"&&a>1&&(a-=1),t=c*a,t=Number(t.toFixed(2));let p={id:e,quantity:a,price:t};p=i.map(s=>s.id===e?p:s),localStorage.setItem("cardProductLs",JSON.stringify(p)),u.innerText=a,l.innerText=t,y()},f=r=>{let e=d();e=e.filter(c=>c.id!==r),localStorage.setItem("cardProductLs",JSON.stringify(e));let o=document.getElementById(`cart${r}`);o&&(o.remove(),S("delete",r)),C(e)};let x=d(),T=P.filter(r=>x.some(e=>r.id===e.id));const E=document.querySelector(".productCartContainer"),I=document.getElementById("productCartTemplate"),N=()=>{T.forEach(r=>{const{category:e,id:o,image:c,name:n,stock:u,price:l}=r,a=g(o,l),t=document.importNode(I.content,!0);t.querySelector("#cardValue").setAttribute("id",`cart${o}`),t.querySelector(".category").textContent=e,t.querySelector(".productImage").src=c,t.querySelector(".productName").textContent=n,t.querySelector(".productQuantity").textContent=a.quantity,t.querySelector(".productPrice").textContent=`₹${a.price}`,t.querySelector(".stockElement").addEventListener("click",i=>{q(i,o,u,l)}),t.querySelector(".remove-to-cart-button").addEventListener("click",()=>{f(o)}),E.append(t)})};N();y();
